(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _utils = require('./utils');

/* Functions */

function resizeCanvas(canvas) {
  var displayWidth = canvas.clientWidth;
  var displayHeight = canvas.clientHeight;

  if (canvas.width !== displayWidth || canvas.height !== displayHeight) {
    canvas.width = displayWidth;
    canvas.height = displayHeight;
  }
}

function loadAudio(context, sourceNode, url) {
  var request = new XMLHttpRequest();

  request.open('GET', url, true);
  request.responseType = 'arraybuffer';

  request.onload = function () {
    context.decodeAudioData(request.response, function (buffer) {
      sourceNode.buffer = buffer;
    }, function (error) {
      console.log(error);
    });
  };
  request.send();
}

function playSound(sourceNode) {
  sourceNode.start(0);
}

function setupAudioNodes(context) {
  /**
   * context.destination is a special node that is associated
   * with the default audio output of your system
   */
  var sourceNode = context.createBufferSource();
  sourceNode.connect(context.destination);

  var analyserNode = context.createAnalyser();
  analyserNode.fftSize = 256;

  var javascriptNode = context.createScriptProcessor(2048, 1, 1);
  javascriptNode.connect(context.destination);

  sourceNode.connect(analyserNode);
  analyserNode.connect(javascriptNode);

  return {
    sourceNode: sourceNode,
    analyserNode: analyserNode,
    javascriptNode: javascriptNode
  };
}

function visualize() {
  // audio context variables
  var context = new _utils.AudioContext();
  var nodes = setupAudioNodes(context);
  var bufferLength = nodes.analyserNode.frequencyBinCount;
  var frequencyArray = new Uint8Array(bufferLength);

  // canvas variables
  var canvas = document.getElementById('canvas');
  var canvasCtx = canvas.getContext('2d');

  resizeCanvas(canvas);
  var width = canvas.width;
  var height = canvas.height;

  canvasCtx.clearRect(0, 0, width, height);

  function draw() {
    resizeCanvas(canvas);
    width = canvas.width;
    height = canvas.height;

    resizeCanvas(canvas);
    nodes.analyserNode.getByteFrequencyData(frequencyArray);

    canvasCtx.fillStyle = 'rgb(0, 0, 0)';
    canvasCtx.fillRect(0, 0, width, height);

    var barWidth = width / bufferLength;
    var x = 0;

    frequencyArray.forEach(function (frequency) {
      var barHeight = frequency;

      canvasCtx.fillStyle = ['rgb(', barHeight + 100, ', 50, 50)'].join('');
      canvasCtx.fillRect(x, height - barHeight, barWidth, barHeight);

      x += barWidth + 1;
    });

    (0, _utils.requestAnimationFrame)(draw);
  }

  loadAudio(context, nodes.sourceNode, 'sounds/sunday_candy.mp3');
  playSound(nodes.sourceNode);
  draw();
}

visualize();

},{"./utils":2}],2:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var requestAnimationFrame = exports.requestAnimationFrame = global.requestAnimationFrame || function () {
  return global.webkitRequestAnimationFrame || global.mozRequestAnimationFrame || global.oRequestAnimationFrame || global.msRequestAnimationFrame || function (callback) {
    global.setTimeout(callback, 1000 / 60);
  };
}();

var AudioContext = exports.AudioContext = global.AudioContext || global.webkitAudioContext;
var OfflineAudioContext = exports.OfflineAudioContext = global.OfflineAudioContext || global.webkitOfflineAudioContext;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZnJlcXVlbmN5LWdyYXBoLmpzIiwic3JjL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDSUEsU0FBUyxZQUFZLENBQUUsTUFBTSxFQUFFO0FBQzdCLE1BQUksWUFBWSxHQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUM7QUFDdkMsTUFBSSxhQUFhLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQzs7QUFFeEMsTUFBSSxNQUFNLENBQUMsS0FBSyxLQUFLLFlBQVksSUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLGFBQWEsRUFBRTtBQUNwRSxVQUFNLENBQUMsS0FBSyxHQUFJLFlBQVksQ0FBQztBQUM3QixVQUFNLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQztHQUMvQjtDQUNGOztBQUVELFNBQVMsU0FBUyxDQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFO0FBQzVDLE1BQUksT0FBTyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7O0FBRW5DLFNBQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMvQixTQUFPLENBQUMsWUFBWSxHQUFHLGFBQWEsQ0FBQzs7QUFFckMsU0FBTyxDQUFDLE1BQU0sR0FBRyxZQUFZO0FBQzNCLFdBQU8sQ0FBQyxlQUFlLENBQ3JCLE9BQU8sQ0FBQyxRQUFRLEVBQ2hCLFVBQVUsTUFBTSxFQUFFO0FBQUUsZ0JBQVUsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0tBQUUsRUFDakQsVUFBVSxLQUFLLEVBQUU7QUFBRSxhQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQUUsQ0FDekMsQ0FBQztHQUNILENBQUM7QUFDRixTQUFPLENBQUMsSUFBSSxFQUFFLENB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R0FBRyxDQUFDLENBQUM7S0FDbkIsQ0FBQyxDQUFDOztBQUVILGVBbEdtQixxQkFBcUIsRUFrR2xCLElBQUksQ0FBQyxDQUFDO0dBQzdCOztBQUVELFdBQVMsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLFVBQVUsRUFBRSx5QkFBeUIsQ0FBQyxDQUFDO0FBQ2hFLFdBQVMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDNUIsTUFBSSxFQUFFLENBQUM7Q0FDUjs7QUFFRCxTQUFTLEVBQUUsQ0FBQzs7Ozs7Ozs7O0FDMUdMLElBQUkscUJBQXFCLFdBQXJCLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsSUFBSSxBQUFDLFlBQVk7QUFDOUUsU0FBUSxNQUFNLENBQUMsMkJBQTJCLElBQ2xDLE1BQU0sQ0FBQyx3QkFBd0IsSUFDL0IsTUFBTSxDQUFDLHNCQUFzQixJQUM3QixNQUFNLENBQUMsdUJBQXVCLElBQzlCLFVBQVUsUUFBUSxFQUFFO0FBQ2xCLFVBQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQztHQUN4QyxDQUFDO0NBQ1gsRUFBRyxDQUFDOztBQUVFLElBQUksWUFBWSxXQUFaLFlBQVksR0FBRyxNQUFNLENBQUMsWUFBWSxJQUFJLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztBQUNwRSxJQUFJLG1CQUFtQixXQUFuQixtQkFBbUIsR0FBRyxNQUFNLENBQUMsbUJBQW1CLElBQUksTUFBTSxDQUFDLHlCQUF5QixDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IEF1ZGlvQ29udGV4dCwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIH0gZnJvbSAnLi91dGlscyc7XG5cbi8qIEZ1bmN0aW9ucyAqL1xuXG5mdW5jdGlvbiByZXNpemVDYW52YXMgKGNhbnZhcykge1xuICB2YXIgZGlzcGxheVdpZHRoICA9IGNhbnZhcy5jbGllbnRXaWR0aDtcbiAgdmFyIGRpc3BsYXlIZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuXG4gIGlmIChjYW52YXMud2lkdGggIT09IGRpc3BsYXlXaWR0aCB8fCBjYW52YXMuaGVpZ2h0ICE9PSBkaXNwbGF5SGVpZ2h0KSB7XG4gICAgY2FudmFzLndpZHRoICA9IGRpc3BsYXlXaWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcbiAgfVxufVxuXG5mdW5jdGlvbiBsb2FkQXVkaW8gKGNvbnRleHQsIHNvdXJjZU5vZGUsIHVybCkge1xuICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTtcbiAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuXG4gIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKFxuICAgICAgcmVxdWVzdC5yZXNwb25zZSxcbiAgICAgIGZ1bmN0aW9uIChidWZmZXIpIHsgc291cmNlTm9kZS5idWZmZXIgPSBidWZmZXI7IH0sXG4gICAgICBmdW5jdGlvbiAoZXJyb3IpIHsgY29uc29sZS5sb2coZXJyb3IpOyB9XG4gICAgKTtcbiAgfTtcbiAgcmVxdWVzdC5zZW5kKCk7XG59XG5cbmZ1bmN0aW9uIHBsYXlTb3VuZCAoc291cmNlTm9kZSkge1xuICBzb3VyY2VOb2RlLnN0YXJ0KDApO1xufVxuXG5mdW5jdGlvbiBzZXR1cEF1ZGlvTm9kZXMgKGNvbnRleHQpIHtcbiAgLyoqXG4gICAqIGNvbnRleHQuZGVzdGluYXRpb24gaXMgYSBzcGVjaWFsIG5vZGUgdGhhdCBpcyBhc3NvY2lhdGVkXG4gICAqIHdpdGggdGhlIGRlZmF1bHQgYXVkaW8gb3V0cHV0IG9mIHlvdXIgc3lzdGVtXG4gICAqL1xuICB2YXIgc291cmNlTm9kZSA9IGNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gIHNvdXJjZU5vZGUuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcblxuICB2YXIgYW5hbHlzZXJOb2RlID0gY29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICBhbmFseXNlck5vZGUuZmZ0U2l6ZSA9IDI1NjtcblxuICB2YXIgamF2YXNjcmlwdE5vZGUgPSBjb250ZXh0LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcigyMDQ4LCAxLCAxKTtcbiAgamF2YXNjcmlwdE5vZGUuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcblxuICBzb3VyY2VOb2RlLmNvbm5lY3QoYW5hbHlzZXJOb2RlKTtcbiAgYW5hbHlzZXJOb2RlLmNvbm5lY3QoamF2YXNjcmlwdE5vZGUpO1xuXG4gIHJldHVybiB7XG4gICAgc291cmNlTm9kZTogc291cmNlTm9kZSxcbiAgICBhbmFseXNlck5vZGU6IGFuYWx5c2VyTm9kZSxcbiAgICBqYXZhc2NyaXB0Tm9kZTogamF2YXNjcmlwdE5vZGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdmlzdWFsaXplICgpIHtcbiAgLy8gYXVkaW8gY29udGV4dCB2YXJpYWJsZXNcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gIHZhciBub2RlcyA9IHNldHVwQXVkaW9Ob2Rlcyhjb250ZXh0KTtcbiAgdmFyIGJ1ZmZlckxlbmd0aCA9IG5vZGVzLmFuYWx5c2VyTm9kZS5mcmVxdWVuY3lCaW5Db3VudDtcbiAgdmFyIGZyZXF1ZW5jeUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyTGVuZ3RoKTtcblxuICAvLyBjYW52YXMgdmFyaWFibGVzXG4gIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG4gIHZhciBjYW52YXNDdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICByZXNpemVDYW52YXMoY2FudmFzKTtcbiAgdmFyIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuICBjYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gIGZ1bmN0aW9uIGRyYXcgKCkge1xuICAgIHJlc2l6ZUNhbnZhcyhjYW52YXMpO1xuICAgIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICByZXNpemVDYW52YXMoY2FudmFzKTtcbiAgICBub2Rlcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEoZnJlcXVlbmN5QXJyYXkpO1xuXG4gICAgY2FudmFzQ3R4LmZpbGxTdHlsZSA9ICdyZ2IoMCwgMCwgMCknO1xuICAgIGNhbnZhc0N0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIHZhciBiYXJXaWR0aCA9ICh3aWR0aCAvIGJ1ZmZlckxlbmd0aCk7XG4gICAgdmFyIHggPSAwO1xuXG4gICAgZnJlcXVlbmN5QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoZnJlcXVlbmN5KSB7XG4gICAgICB2YXIgYmFySGVpZ2h0ID0gZnJlcXVlbmN5O1xuXG4gICAgICBjYW52YXNDdHguZmlsbFN0eWxlID0gWydyZ2IoJywgKGJhckhlaWdodCArIDEwMCksICcsIDUwLCA1MCknXS5qb2luKCcnKTtcbiAgICAgIGNhbnZhc0N0eC5maWxsUmVjdCh4LCBoZWlnaHQgLSBiYXJIZWlnaHQsIGJhcldpZHRoLCBiYXJIZWlnaHQpO1xuXG4gICAgICB4ICs9IGJhcldpZHRoICsgMTtcbiAgICB9KTtcblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KTtcbiAgfVxuXG4gIGxvYWRBdWRpbyhjb250ZXh0LCBub2Rlcy5zb3VyY2VOb2RlLCAnc291bmRzL3N1bmRheV9jYW5keS5tcDMnKTtcbiAgcGxheVNvdW5kKG5vZGVzLnNvdXJjZU5vZGUpO1xuICBkcmF3KCk7XG59XG5cbnZpc3VhbGl6ZSgpO1xuXG4iLCJleHBvcnQgbGV0IHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICBnbG9iYWwud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgZ2xvYmFsLm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgIGdsb2JhbC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgZ2xvYmFsLm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBnbG9iYWwuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgICB9O1xufSkoKTtcblxuZXhwb3J0IGxldCBBdWRpb0NvbnRleHQgPSBnbG9iYWwuQXVkaW9Db250ZXh0IHx8IGdsb2JhbC53ZWJraXRBdWRpb0NvbnRleHQ7XG5leHBvcnQgbGV0IE9mZmxpbmVBdWRpb0NvbnRleHQgPSBnbG9iYWwuT2ZmbGluZUF1ZGlvQ29udGV4dCB8fCBnbG9iYWwud2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dDtcbiJdfQ==
